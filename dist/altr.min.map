{
  "version": 3,
  "file": "bundle.js",
  "sources": [
    "/Users/michaelhayes/work/altr/lib/altr.js",
    "/Users/michaelhayes/work/altr/lib/batch.js",
    "/Users/michaelhayes/work/altr/lib/browser.js",
    "/Users/michaelhayes/work/altr/lib/element_node.js",
    "/Users/michaelhayes/work/altr/lib/get_element.js",
    "/Users/michaelhayes/work/altr/lib/index.js",
    "/Users/michaelhayes/work/altr/lib/render.js",
    "/Users/michaelhayes/work/altr/lib/set_children.js",
    "/Users/michaelhayes/work/altr/lib/tags/children.js",
    "/Users/michaelhayes/work/altr/lib/tags/for.js",
    "/Users/michaelhayes/work/altr/lib/tags/html.js",
    "/Users/michaelhayes/work/altr/lib/tags/if.js",
    "/Users/michaelhayes/work/altr/lib/tags/include.js",
    "/Users/michaelhayes/work/altr/lib/tags/placeholder.js",
    "/Users/michaelhayes/work/altr/lib/tags/text.js",
    "/Users/michaelhayes/work/altr/lib/tags/with.js",
    "/Users/michaelhayes/work/altr/lib/template_string.js",
    "/Users/michaelhayes/work/altr/lib/text_node.js",
    "/Users/michaelhayes/work/altr/node_modules/altr-accessors/index.js",
    "/Users/michaelhayes/work/altr/node_modules/altr-accessors/lib/arrow.js",
    "/Users/michaelhayes/work/altr/node_modules/altr-accessors/lib/create.js",
    "/Users/michaelhayes/work/altr/node_modules/altr-accessors/lib/filter.js",
    "/Users/michaelhayes/work/altr/node_modules/altr-accessors/lib/lookup.js",
    "/Users/michaelhayes/work/altr/node_modules/altr-accessors/lib/operators.js",
    "/Users/michaelhayes/work/altr/node_modules/altr-accessors/lib/parens.js",
    "/Users/michaelhayes/work/altr/node_modules/altr-accessors/lib/split.js",
    "/Users/michaelhayes/work/altr/node_modules/altr-accessors/lib/types.js",
    "/Users/michaelhayes/work/altr/node_modules/altr-accessors/node_modules/just-debounce/index.js"
  ],
  "names": [
    "global",
    "altr",
    "root",
    "data",
    "sync",
    "doc",
    "this",
    "batch",
    "document",
    "filters",
    "Object",
    "create",
    "includes",
    "accessors",
    "Buffer",
    "toString",
    "temp",
    "createElement",
    "innerHTML",
    "createDocumentFragment",
    "firstChild",
    "appendChild",
    "_update",
    "updateNodes",
    "rootNodes",
    "update",
    "run",
    "update_nodes",
    "nodes",
    "i",
    "l",
    "hooks",
    "length",
    "call",
    "self",
    "initNodes",
    "init_nodes",
    "flatten",
    "lhs",
    "rhs",
    "concat",
    "slice",
    "map",
    "init_node",
    "bind",
    "filter",
    "Boolean",
    "reduce",
    "el",
    "node_handlers",
    "nodeType",
    "childNodes",
    "root_nodes",
    "add_filter",
    "name",
    "add_tag",
    "attr",
    "tag",
    "prototype",
    "tags",
    "tagList",
    "push",
    "constructor",
    "outer_html",
    "node",
    "outerHTML",
    "join",
    "append_to",
    "get_el",
    "include",
    "template",
    "create_accessor",
    "description",
    "change",
    "fn",
    "template_string",
    "require",
    "element_node",
    "text_node",
    "render",
    "module",
    "exports",
    "addTag",
    "addFilter",
    "templateString",
    "createAccessor",
    "initNode",
    "getElement",
    "into",
    "window",
    "Batch",
    "jobs",
    "frame",
    "add",
    "queue",
    "args",
    "arguments",
    "queued",
    "apply",
    "request_frame",
    "requestAnimationFrame",
    "callback",
    "timeout",
    "setTimeout",
    "raf",
    "webkitRequestAnimationFrame",
    "mozRequestAnimationFrame",
    "create_element_node",
    "altr_tags",
    "attrs",
    "Array",
    "attributes",
    "value",
    "forEach",
    "indexOf",
    "removeAttribute",
    "attr_hook",
    "val",
    "setAttribute",
    "_altr_placeholder",
    "placeholder",
    "children_tag",
    "include_tag",
    "text_tag",
    "html_tag",
    "with_tag",
    "for_tag",
    "if_tag",
    "instance",
    "set_children",
    "prev",
    "get",
    "nextSibling",
    "lastChild",
    "insertBefore",
    "removeChild",
    "children",
    "accessor",
    "isArray",
    "is_node",
    "for_handler",
    "update_children",
    "item_data",
    "prop",
    "items",
    "new_items",
    "index",
    "new_children",
    "dom_nodes",
    "find_index",
    "unique",
    "splice",
    "make_children",
    "run_updates",
    "d",
    "createElementNS",
    "namespaceURI",
    "run_dom_updates",
    "parts",
    "match",
    "for_regexp",
    "Error",
    "split",
    "key",
    "html",
    "getAttribute",
    "getElementsByTagName",
    "script",
    "fixed",
    "parent",
    "parentNode",
    "textContent",
    "toggle",
    "show",
    "hide",
    "createComment",
    "hidden",
    "replaceChild",
    "nodeName",
    "text",
    "set_part",
    "idx",
    "hook",
    "TAG",
    "next",
    "remaining",
    "create_text_node",
    "delay",
    "str",
    "all",
    "write",
    "out",
    "part",
    "create_part",
    "debounce",
    "add_operators",
    "create_accesor",
    "add_lookup",
    "add_parens",
    "add_types",
    "add_arrow",
    "types",
    "create_arrow",
    "ctx",
    "right",
    "left",
    "context",
    "finish",
    "build_part",
    "create_filter",
    "filter_regexp",
    "create_lookup",
    "path",
    "lookup",
    "done",
    "search",
    "obj",
    "create_ternary",
    "binary",
    "unary",
    "list",
    "regex",
    "RegExp",
    "create_binary",
    "create_unary",
    "ok",
    "not",
    "ternary_regexp",
    "condition",
    "rest",
    "on_data",
    "check_lhs",
    "check_rhs",
    "is_rhs",
    "changed",
    "Function",
    "create_parens",
    "parens_regexp",
    "body",
    "count",
    "content",
    "Math",
    "random",
    "opens",
    "closes",
    "split_point",
    "all_closes",
    "all_opens",
    "sum",
    "counts",
    "j",
    "create_string_accessor",
    "create_number_accessor",
    "string_regexp",
    "number_regexp",
    "at_start",
    "guarantee",
    "clear",
    "clearTimeout"
  ],
  "mappings": "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",
  "sourcesContent": [
    "(function (global){\nvar template_string = require('./template_string')\n  , element_node = require('./element_node')\n  , accessors = require('altr-accessors')\n  , text_node = require('./text_node')\n  , get_el = require('./get_element')\n  , render = require('./render')\n  , batch = require('./batch')\n\naltr.filters = {}\naltr.includes = {}\naltr.render = render\nmodule.exports = altr\naltr.addTag = add_tag\naltr.include = include\naltr.addFilter = add_filter\n\nfunction altr(root, data, sync, doc) {\n  if(!(this instanceof altr)) {\n    return new altr(root, data, sync, doc)\n  }\n\n  this.root = root\n  this.sync = sync\n  this.batch = batch(sync)\n  this.document = doc || global.document\n  this.filters = Object.create(altr.filters)\n  this.includes = Object.create(altr.includes)\n  this.accessors = accessors(this.filters, false)\n\n  if(global.Buffer && root instanceof global.Buffer) {\n    root = root.toString()\n  }\n\n  if(typeof root === 'string') {\n    var temp = this.document.createElement('div')\n\n    temp.innerHTML = root\n    this.root = this.document.createDocumentFragment()\n\n    while(temp.firstChild) {\n      this.root.appendChild(temp.firstChild)\n    }\n  }\n\n  this._update = this.updateNodes(this.rootNodes())\n\n  if(data) {\n    this.update(data)\n  }\n}\n\naltr.prototype.templateString = template_string\naltr.prototype.createAccessor = create_accessor\naltr.prototype.updateNodes = update_nodes\naltr.prototype.initNodes = init_nodes\naltr.prototype.rootNodes = root_nodes\naltr.prototype.addFilter = add_filter\naltr.prototype.toString = outer_html\naltr.prototype.include = include\naltr.prototype.initNode = init_node\naltr.prototype.getElement = get_el\naltr.prototype.into = append_to\naltr.prototype.update = update\naltr.prototype.tagList = []\naltr.prototype.tags = {}\n\nvar node_handlers = {}\n\nnode_handlers[1] = element_node\nnode_handlers[3] = text_node\n\nfunction update(data) {\n  this._update(data)\n\n  if(this.sync) {\n    this.batch.run()\n  }\n}\n\nfunction update_nodes(nodes) {\n  var hooks = this.initNodes(nodes)\n    , self = this\n\n  return update\n\n  function update(data) {\n    for(var i = 0, l = hooks.length; i < l; ++i) {\n      hooks[i].call(self, data)\n    }\n  }\n}\n\nfunction init_nodes(nodes, list) {\n  var hooks = [].slice.call(nodes)\n    .map(init_node.bind(this))\n    .filter(Boolean)\n    .reduce(flatten, [])\n\n  return hooks\n\n  function flatten(lhs, rhs) {\n    return lhs.concat(rhs)\n  }\n}\n\nfunction init_node(el) {\n  return node_handlers[el.nodeType] ?\n    node_handlers[el.nodeType].call(this, el) :\n    el.childNodes && el.childNodes.length ?\n    this.initNodes(el.childNodes) :\n    null\n}\n\nfunction root_nodes() {\n  return this.root.nodeType === 11 ?\n    [].slice.call(this.root.childNodes) :\n    [this.root]\n}\n\nfunction add_filter(name, filter) {\n  altr.filters[name] = filter\n}\n\nfunction add_tag(attr, tag) {\n  altr.prototype.tags[attr] = tag\n  altr.prototype.tagList.push({\n      attr: attr\n    , constructor: tag\n  })\n}\n\nfunction outer_html() {\n  return this.rootNodes().map(function(node) {\n    return node.outerHTML\n  }).join('')\n}\n\nfunction append_to(node) {\n  var root_nodes = this.rootNodes()\n\n  for(var i = 0, l = root_nodes.length; i < l; ++i) {\n    node.appendChild(get_el(root_nodes[i]))\n  }\n}\n\nfunction include(name, template) {\n  return this.includes[name] = template\n}\n\nfunction create_accessor(description, change) {\n  return this.accessors.create(description, change, false)\n}\n\nfunction add_filter(name, fn) {\n  return this.filters[name] = fn\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})",
    "(function (global){\nmodule.exports = Batch\n\nfunction Batch(sync) {\n  if(!(this instanceof Batch)) {\n    return new Batch(sync)\n  }\n\n  this.jobs = []\n  this.sync = sync\n  this.frame = null\n  this.run = this.run.bind(this)\n}\n\nBatch.prototype.request_frame = request_frame\nBatch.prototype.queue = queue\nBatch.prototype.add = add\nBatch.prototype.run = run\n\nfunction add(fn) {\n  var queued = false\n    , batch = this\n    , self\n    , args\n\n  return queue\n\n  function queue() {\n    args = [].slice.call(arguments)\n    self = this\n\n    if(!queued) {\n      queued = true\n      batch.queue(run)\n    }\n  }\n\n  function run() {\n    queued = false\n    fn.apply(self, args)\n  }\n}\n\nfunction queue(fn) {\n  if(this.sync) {\n    return fn()\n  }\n\n  this.jobs.push(fn)\n  this.request_frame()\n}\n\nfunction run() {\n  var jobs = this.jobs\n\n  this.jobs = []\n  this.frame = null\n\n  for(var i = 0, l = jobs.length; i < l; ++i) {\n    jobs[i]()\n  }\n}\n\nfunction request_frame() {\n  if(this.frame) {\n    return\n  }\n\n  this.frame = requestAnimationFrame(this.run)\n}\n\nfunction requestAnimationFrame(callback) {\n  var raf = global.requestAnimationFrame ||\n    global.webkitRequestAnimationFrame ||\n    global.mozRequestAnimationFrame ||\n    timeout\n\n  return raf(callback)\n\n  function timeout(callback) {\n    return setTimeout(callback, 1000 / 60)\n  }\n}\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})",
    "(function (global){\nmodule.exports = global.altr = require('./index')\n\n}).call(this,typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})",
    "module.exports = create_element_node\n\nfunction create_element_node(el) {\n  var altr_tags = {}\n    , altr = this\n    , hooks = []\n    , attr\n\n  var attrs = Array.prototype.filter.call(el.attributes, function(attr) {\n    return altr.tags[attr.name] ?\n      (altr_tags[attr.name] = attr.value) && false :\n      true\n  })\n\n  attrs.forEach(function(attr) {\n    var value = attr.value\n      , name = attr.name\n\n    if(!name.indexOf('altr-attr-')) {\n      name = attr.name.slice('altr-attr-'.length)\n      el.removeAttribute(attr.name)\n    }\n\n    var attr_hook = altr.templateString(value, altr.batch.add(function(val) {\n      el.setAttribute(name, val)\n    }))\n\n    if(attr_hook) {\n      hooks.push(attr_hook)\n    }\n  })\n\n  for(var i = 0, l = altr.tagList.length; i < l; ++i) {\n    if(attr = altr_tags[altr.tagList[i].attr]) {\n      hooks.push(altr.tagList[i].constructor.call(altr, el, attr))\n\n      return hooks\n    }\n  }\n\n  return hooks.concat(altr.initNodes(el.childNodes))\n}\n",
    "module.exports = get_el\n\nfunction get_el(el) {\n  while(el && el._altr_placeholder) {\n    el = el._altr_placeholder\n  }\n\n  return el\n}\n",
    "var placeholder = require('./tags/placeholder')\n  , children_tag = require('./tags/children')\n  , include_tag = require('./tags/include')\n  , text_tag = require('./tags/text')\n  , html_tag = require('./tags/html')\n  , with_tag = require('./tags/with')\n  , for_tag = require('./tags/for')\n  , if_tag = require('./tags/if')\n  , altr = require('./altr')\n\nmodule.exports = altr\n\naltr.addTag('altr-placeholder', placeholder)\naltr.addTag('altr-children', children_tag)\naltr.addTag('altr-include', include_tag)\naltr.addTag('altr-text', text_tag)\naltr.addTag('altr-html', html_tag)\naltr.addTag('altr-with', with_tag)\naltr.addTag('altr-for', for_tag)\naltr.addTag('altr-if', if_tag)\n",
    "module.exports = render\n\nfunction render(template, el) {\n  if(this.includes[template]) {\n    template = this.includes[template]\n  }\n\n  var instance = this(template)\n\n  if(el) {\n    el.innerHTML = ''\n    instance.into(el)\n  }\n\n  return instance\n}\n",
    "var get = require('./get_element')\n\nmodule.exports = set_children\n\nfunction set_children(root, nodes) {\n  var prev = null\n    , el\n\n  for(var i = nodes.length - 1; i >= 0; --i) {\n    el = get(nodes[i])\n\n    if((prev && el.nextSibling !== prev) || root.lastChild !== el) {\n      root.insertBefore(el, prev)\n    }\n\n    prev = el\n  }\n\n  while(root.firstChild !== prev) {\n    root.removeChild(root.firstChild)\n  }\n}\n",
    "var set_children = require('../set_children')\n\nmodule.exports = children\n\nfunction children(el, accessor) {\n  return this.batch.add(this.createAccessor(accessor, update))\n\n  function update(val) {\n    var nodes = Array.isArray(val) ? val : [val]\n\n    set_children(el, nodes.filter(is_node))\n  }\n}\n\nfunction is_node(el) {\n  return el && el.nodeType\n}\n",
    "var set_children = require('../set_children')\n  , for_regexp = /^(.*?)\\s+in\\s+(.*$)/\n\nmodule.exports = for_handler\n\nfunction for_handler(root, args) {\n  var parts = args.match(for_regexp)\n    , template = root.innerHTML\n    , dom_nodes = []\n    , children = []\n    , altr = this\n    , items = []\n\n  if(!parts) {\n    throw new Error('invalid for tag: ' + args)\n  }\n\n  root.innerHTML = ''\n\n  var unique = parts[1].split(':')[1]\n    , prop = parts[1].split(':')[0]\n    , key = parts[2]\n\n  var run_updates = this.batch.add(run_dom_updates)\n\n  return altr.createAccessor(key, update)\n\n  function update_children(data) {\n    var item_data\n\n    for(var i = 0, l = children.length; i < l; ++i) {\n      item_data = Object.create(data)\n      item_data[prop] = items[i]\n      item_data['$index'] = i\n\n      children[i].update && children[i].update(item_data)\n    }\n  }\n\n  function update(new_items, data) {\n    if(!Array.isArray(new_items)) {\n      new_items = []\n    }\n\n    var new_children = new Array(new_items.length)\n      , index\n\n    dom_nodes = []\n\n    for(var i = 0, l = new_items.length; i < l; ++i) {\n      index = find_index(items, new_items[i], unique)\n\n      if(index !== -1) {\n        new_children[i] = (children.splice(index, 1)[0])\n        items.splice(index, 1)\n      } else {\n        new_children[i] = make_children()\n      }\n\n      dom_nodes = dom_nodes.concat(new_children[i].dom_nodes)\n    }\n\n    children = new_children.slice()\n    items = new_items.slice()\n    run_updates()\n    update_children(data)\n  }\n\n  function find_index(items, d, unique) {\n    if(!unique) {\n      return items.indexOf(d)\n    }\n\n    for(var i = 0, l = items.length; i < l; ++i) {\n      if(items[i][unique] === d[unique]) {\n        return i\n      }\n    }\n\n    return -1\n  }\n\n  function make_children() {\n    var temp = altr.document.createElementNS(root.namespaceURI, 'div')\n      , dom_nodes\n      , update\n\n    temp.innerHTML = template\n\n    dom_nodes = Array.prototype.slice.call(temp.childNodes)\n    update = altr.updateNodes(dom_nodes)\n\n    return {\n        dom_nodes: dom_nodes\n      , update: update\n    }\n  }\n\n  function run_dom_updates() {\n    set_children(root, dom_nodes)\n  }\n}\n",
    "module.exports = html\n\nfunction html(el, accessor) {\n  return this.batch.add(this.createAccessor(accessor, update))\n\n  function update(val) {\n    el.innerHTML = typeof val === 'undefined' ? '' : val\n\n    if(el.getAttribute('altr-run-scripts')) {\n      [].forEach.call(el.getElementsByTagName('script'), run)\n    }\n  }\n}\n\nfunction run(script) {\n  var fixed = document.createElement('script')\n    , parent = script.parentNode\n    , attrs = script.attributes\n    , src\n\n  for(var i = 0, l = attrs.length; i < l; ++i) {\n    fixed.setAttribute(attrs[i].name, attrs[i].value)\n  }\n\n  fixed.textContent = script.textContent\n  parent.insertBefore(fixed, script)\n  parent.removeChild(script)\n}\n",
    "module.exports = if_tag\n\nfunction if_tag(el, accessor) {\n  var placeholder = this.document.createComment('altr-if-placeholder')\n    , update_children = this.updateNodes(el.childNodes)\n    , hidden = null\n\n  var hide = this.batch.add(function() {\n    if(!hidden) {\n      el.parentNode.replaceChild(placeholder, el)\n      el._altr_placeholder = placeholder\n      hidden = true\n    }\n  })\n\n  var show = this.batch.add(function() {\n    if(hidden) {\n      placeholder.parentNode.replaceChild(el, placeholder)\n      delete el._altr_placeholder\n      hidden = false\n    }\n  })\n\n  return this.createAccessor(accessor, toggle)\n\n  function toggle(val, data) {\n    if(!val) {\n      return hide()\n    }\n\n    show()\n    update_children(data)\n  }\n}\n",
    "module.exports = include\n\nfunction include(el, name) {\n  el.innerHTML = this.includes[name]\n\n  return this.updateNodes(el.childNodes)\n}\n",
    "module.exports = placeholder\n\nfunction placeholder(el, accessor) {\n  var parent = el.parentNode\n\n  return this.batch.add(this.createAccessor(accessor, update))\n\n  function update(val) {\n    if(!val.nodeName) {\n      return\n    }\n\n    parent.insertBefore(val, el)\n    parent.removeChild(el)\n    el._altr_placeholder = val\n    el = val\n  }\n}\n",
    "module.exports = text\n\nfunction text(el, accessor) {\n  return this.batch.add(this.createAccessor(accessor, update))\n\n  function update(val) {\n    el.textContent = typeof val === 'undefined' ? '' : val\n  }\n}\n",
    "module.exports = with_tag\n\nfunction with_tag(el, accessor) {\n  return this.createAccessor(accessor, this.updateNodes(el.childNodes))\n}\n",
    "var TAG = /{{\\s*(.*?)\\s*}}/\n\nmodule.exports = template_string\n\nfunction template_string(template, change) {\n  if(!template.match(TAG)) {\n    return\n  }\n\n  var remaining = template\n    , parts = []\n    , hooks = []\n    , timer\n    , index\n    , next\n\n  while(remaining && (next = remaining.match(TAG))) {\n    if(index = remaining.indexOf(next[0])) {\n      parts.push(remaining.slice(0, index))\n    }\n\n    parts.push('')\n    remaining = remaining.slice(index + next[0].length)\n    hooks.push(\n        this.createAccessor(next[1], set_part.bind(this, parts.length - 1))\n    )\n  }\n\n  parts.push(remaining)\n\n  return update\n\n  function set_part(idx, val) {\n    parts[idx] = val\n    change(parts.join(''))\n  }\n\n  function update(data) {\n    hooks.forEach(function(hook) {\n      hook(data)\n    })\n  }\n}\n",
    "module.exports = create_text_node\n\nfunction create_text_node(el) {\n  var hook = this.templateString(el.textContent, this.batch.add(update))\n\n  return hook ? [hook] : null\n\n  function update(val) {\n    el.textContent = val\n  }\n}\n",
    "var add_operators = require('./lib/operators')\n  , create_accesor = require('./lib/create')\n  , add_lookup = require('./lib/lookup')\n  , add_filter = require('./lib/filter')\n  , add_parens = require('./lib/parens')\n  , debounce = require('just-debounce')\n  , add_types = require('./lib/types')\n  , add_arrow = require('./lib/arrow')\n  , split = require('./lib/split')\n  , types = []\n\nmodule.exports = accessors\n\n// order is important\nadd_types(types)\nadd_arrow(types)\nadd_filter(types)\nadd_parens(types)\nadd_operators(types)\nadd_lookup(types)\n\naccessors.prototype.create_part = create_accesor\naccessors.prototype.add_filter = add_filter\naccessors.prototype.create = create\naccessors.prototype.types = types\naccessors.prototype.split = split\n\nfunction accessors(filters, delay) {\n  if(!(this instanceof accessors)) {\n    return new accessors(filters, delay)\n  }\n\n  if(!delay && delay !== false) {\n    delay = 0\n  }\n\n  this.delay = delay\n  this.filters = filters || {}\n}\n\nfunction add_filter(name, fn) {\n  this.filters[name] = fn\n}\n\nfunction create(str, change, all) {\n  var part = this.create_part(\n      str\n    , this.delay === false ? update : debounce(change, this.delay, false, true)\n  )\n\n  var sync = false\n    , prev = {}\n    , out\n\n  return write\n\n  function write(data) {\n    sync = true\n    out = null\n    part(data)\n    sync = false\n\n    if(out) {\n      change.apply(null, out)\n    }\n  }\n\n  function update(val, ctx) {\n    if(!all && typeof val !== 'object' && val === prev) {\n      return\n    }\n\n    out = [].slice.call(arguments)\n    prev = val\n\n    if(!sync) {\n      change.apply(null, out)\n    }\n  }\n}\n",
    "module.exports = add_arrow\n\nfunction add_arrow(types) {\n  types.push(create_arrow)\n}\n\nfunction create_arrow(parts, change) {\n  parts = this.split(parts, '->')\n\n  if(parts.length < 2) {\n    return\n  }\n\n  var right = this.create_part(parts[1], change)\n    , left = this.create_part(parts[0], update)\n\n  return left\n\n  function update(val, ctx) {\n    right(val, ctx)\n  }\n}\n",
    "module.exports = accessor\n\nfunction accessor(key, change) {\n  var part = build_part.call(this, key, finish)\n    , context\n\n  return call.bind(this)\n\n  function call(val, ctx) {\n    part(val, context = ctx || val)\n  }\n\n  function finish(val) {\n    change.call(this, val, context)\n  }\n}\n\nfunction build_part(part, change) {\n  var accessor\n\n  for(var i = 0, l = this.types.length; i < l; ++i) {\n    if(accessor = this.types[i].call(this, part, change)) {\n      return accessor\n    }\n  }\n}\n",
    "var filter_regexp = /^\\s*([^\\s(]+)\\((.*)\\)\\s*$/\n\nmodule.exports = add_filter\n\nfunction add_filter(types) {\n  types.push(create_filter)\n}\n\nfunction create_filter(parts, change) {\n  if(!(parts = parts.match(filter_regexp))) {\n    return\n  }\n\n  var filter = this.filters[parts[1]]\n\n  if(!filter) {\n    throw new Error('could not find filter: ' + parts[1])\n  }\n\n  return filter.call(this, this.split(parts[2], ',', null, null, true), change)\n}\n",
    "module.exports = add_lookup\n\nfunction add_lookup(types) {\n  types.push(create_lookup)\n}\n\nfunction create_lookup(path, change) {\n  if(!path.indexOf('$data')) {\n    path = path.slice('$data.'.length)\n\n    if(!path) {\n      return change\n    }\n  }\n\n  return lookup(path.match(/\\s*(.*[^\\s])\\s*/)[1], change)\n}\n\nfunction lookup(path, done) {\n  var parts = path ? path.split('.') : []\n\n  return function search(obj, ctx) {\n    for(var i = 0, l = parts.length; obj && i < l; ++i) {\n      obj = obj[parts[i]]\n    }\n\n    if(typeof obj === 'undefined' && ctx) {\n      return search(ctx)\n    }\n\n    if(i === l) {\n      return done(obj)\n    }\n\n    done()\n  }\n}\n",
    "var ternary_regexp = /^\\s*(.+?)\\s*\\?(.*)\\s*$/\n\nmodule.exports = add_operators\n\nfunction add_operators(types) {\n  types.push(create_ternary)\n  types.push(binary(['|\\\\|']))\n  types.push(binary(['&&']))\n  types.push(binary(['|']))\n  types.push(binary(['^']))\n  types.push(binary(['&']))\n  types.push(binary(['===', '!==', '==', '!=']))\n  types.push(binary(['>=', '<=', '>', '<', ' in ', ' instanceof ']))\n  // types.push(binary(['<<', '>>', '>>>'])) //conflics with < and >\n  types.push(binary(['+', '-']))\n  types.push(binary(['*', '/', '%']))\n  types.push(unary(['!', '+', '-', '~']))\n}\n\nfunction binary(list) {\n  var regex = new RegExp(\n      '^\\\\s*(.+?)\\\\s\\*(\\\\' +\n      list.join('|\\\\') +\n      ')\\\\s*(.+?)\\\\s*$'\n  )\n\n  return function(parts, change) {\n    return create_binary.call(this, regex, parts, change)\n  }\n}\n\nfunction unary(list) {\n  var regex = new RegExp(\n      '^\\\\s*(\\\\' +\n      list.join('|\\\\') +\n      ')\\\\s*(.+?)\\\\s*$'\n  )\n\n  return function(parts, change) {\n    return create_unary.call(this, regex, parts, change)\n  }\n}\n\nfunction create_ternary(parts, change) {\n  if(!(parts = parts.match(ternary_regexp))) {\n    return\n  }\n\n  var condition = parts[1]\n    , rest = parts[2]\n    , count = 1\n\n  rest = this.split(rest, ':', ['?'], [':'])\n\n  if(rest.length !== 2) {\n    throw new Error('Unmatched ternary: ' + parts[0])\n  }\n\n  var not = this.create_part(rest[1], change)\n    , ok = this.create_part(rest[0], change)\n\n  return this.create_part(condition, update)\n\n  function update(val, context) {\n    return val ? ok(context) : not(context)\n  }\n}\n\nfunction create_binary(regex, parts, change) {\n  if(!(parts = parts.match(regex))) {\n    return\n  }\n\n  var check_lhs = this.create_part(parts[1], update.bind(null, false))\n    , check_rhs = this.create_part(parts[3], update.bind(null, true))\n    , lhs\n    , rhs\n\n  var changed = Function(\n      'change, lhs, rhs'\n    , 'return change(lhs ' + parts[2] + ' rhs)'\n  ).bind(null, change)\n\n  return on_data\n\n  function on_data(data, ctx) {\n    check_lhs(data, ctx)\n    check_rhs(data, ctx)\n  }\n\n  function update(is_rhs, val) {\n    is_rhs ? rhs = val : lhs = val\n    changed(lhs, rhs)\n  }\n}\n\nfunction create_unary(regex, parts, change) {\n  if(!(parts = parts.match(regex))) {\n    return\n  }\n\n  var changed = Function(\n      'change, val'\n    , 'return change(' + parts[1] + 'val)'\n  ).bind(null, change)\n\n  return this.create_part(parts[2], changed)\n}\n",
    "var parens_regexp = /^\\s*\\((.*)$/\n\nmodule.exports = add_parens\n\nfunction add_parens(types) {\n  types.push(create_parens)\n}\n\nfunction create_parens(parts, change) {\n  if(!(parts = parts.match(parens_regexp))) {\n    return\n  }\n\n  var body = parts[1]\n    , count = 1\n\n  for(var i = 0, l = body.length; i < l; ++i) {\n    if(body[i] === ')') {\n      --count\n    } else if(body[i] === '(') {\n      ++count\n    }\n\n    if(!count) {\n      break\n    }\n  }\n\n  if(!i || i === l) {\n    throw new Error('Unmatched ternary: ' + parts[0])\n  }\n\n  var content =  this.create_part(body.slice(0, i), update)\n    , key = 'paren_' + Math.random().toString(16).slice(2)\n\n  var template = this.create_part(key + body.slice(i + 1), change)\n\n  return content\n\n  function update(val, context) {\n    context = Object.create(context)\n    context[key] = val\n    template(context)\n  }\n}\n",
    "module.exports = split\n\nfunction split(parts, key, opens, closes, all) {\n  var all_closes = [')', '}', ']']\n    , all_opens = ['(', '{', '[']\n    , sum = 0\n    , split_point\n    , index\n\n  if(opens) {\n    all_opens = all_opens.concat(opens)\n  }\n\n  if(closes) {\n    all_closes = all_closes.concat(closes)\n  }\n\n  var counts = all_opens.map(function() {\n    return 0\n  })\n\n  for(var i = 0, l = parts.length; i < l; ++i) {\n    if(!sum && (split_point = parts.slice(i).indexOf(key)) === -1) {\n      return [parts]\n    }\n\n    if(!sum && !split_point) {\n      break\n    }\n\n    if((index = all_opens.indexOf(parts[i])) !== -1) {\n      ++counts[index]\n      ++sum\n    } else if((index = all_closes.indexOf(parts[i])) !== -1) {\n      --counts[index]\n      --sum\n    }\n\n    for(var j = 0; j < counts.length; ++j) {\n      if(counts[j] < 0) {\n        throw new Error('Unmatched \"' + all_opens[j] + '\"\" in ' + parts)\n      }\n    }\n  }\n\n  if(sum || i === parts.length) {\n    return [parts]\n  }\n\n  var right = parts.slice(i + key.length)\n    , left = parts.slice(0, i)\n\n  if(!all) {\n    return [left, right]\n  }\n\n  return [left].concat(split(right, key, opens, closes, all))\n}\n",
    "var string_regexp = /^\\s*(?:'((?:[^'\\\\]|(?:\\\\.))*)'|\"((?:[^\"\\\\]|(?:\\\\.))*)\")\\s*$/\n  , number_regexp = /^\\s*(\\d*(?:\\.\\d+)?)\\s*$/\n\nmodule.exports = add_types\n\nfunction add_types(types) {\n  types.push(create_string_accessor)\n  types.push(create_number_accessor)\n}\n\nfunction create_string_accessor(parts, change) {\n  if(!(parts = parts.match(string_regexp))) {\n    return\n  }\n\n  return function() {\n    change(parts[1] || parts[2])\n  }\n}\n\nfunction create_number_accessor(parts, change) {\n  if(!(parts = parts.match(number_regexp))) {\n    return\n  }\n\n  return function() {\n    change(+parts[1])\n  }\n}\n",
    "module.exports = debounce\n\nfunction debounce(fn, delay, at_start, guarantee) {\n  var timeout\n    , args\n\n  return function() {\n    var self = this\n\n    args = Array.prototype.slice.call(arguments)\n\n    if(timeout && (at_start || guarantee)) {\n      return\n    } else if(!at_start) {\n      clear()\n\n      return timeout = setTimeout(run, delay)\n    }\n\n    timeout = setTimeout(clear, delay)\n    fn.apply(self, args)\n\n    function run() {\n      clear()\n      fn.apply(self, args)\n    }\n\n    function clear() {\n      clearTimeout(timeout)\n      timeout = null\n    }\n  }\n}\n"
  ],
  "sourceRoot": ""
}