(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
function add_type(e,r){accessor_types.push({test:RegExp.prototype.test.bind(e),create:r})}function accessor(e,r){function t(e,t,a){return e||(n=a||t),e===c.length?r.call(this,t,n):(c[e](t,n),void 0)}for(var n,c=e.split("|"),a=0,s=c.length;s>a;++a)c[a]=build_part.call(this,c[a],t.bind(this,a+1));return t.bind(this,0)}function build_part(e,r){for(var t=0,n=accessor_types.length;n>t;++t)if(accessor_types[t].test(e))return accessor_types[t].create.call(this,e,r)}function create_lookup(e,r){return e.indexOf("$data")||(e=e.slice("$data.".length)),lookup(e.match(/\s*(.*[^\s])\s*/)[1],r)}function create_filter(e,r){var t=e.match(filter_regexp),n=this.filters[t[1]];if(!n)throw new Error("could not find filter: "+t[1]);return n.call(this,t[2],r)}function create_string_accessor(e,r){var t=e.match(string_regexp);return e=t[1]||t[2],function(){r(e)}}function create_number_accessor(e,r){var t=e.match(number_regexp);return e=+t[1],function(){r(e)}}function create_ternary(e,r){function t(e,r){e?c(r):n(r)}e=e.match(ternary_regexp);var n=accessor(e[3],r),c=accessor(e[2],r);return accessor(e[1],t)}function create_equals(e,r){function t(e){c(e),a(e)}function n(t,n){t?o=n:s=n,n=2===e[2].length?s==o:s===o,r("!"===e[2][0]?!n:n)}e=e.match(equals_regexp);var c=accessor(e[1],n.bind(null,!1)),a=accessor(e[3],n.bind(null,!0)),s={},o={};return t}function create_not(e,r){function t(e){r(!e)}return accesor(e.match(not_regexp)[1],t)}function create_and_or(e,r){function t(e){c(e),a(e)}function n(t,n){t?o=n:s=n,r("&&"===e[2]?s&&o:s||o)}e=e.match(and_or_regexp);var c=accessor(e[1],n.bind(null,!1)),a=accessor(e[3],n.bind(null,!0)),s=!1,o=!1;return t}var lookup=require("./lookup"),accessor_types=[],string_regexp=/^\s*(?:'((?:[^'\\]|(?:\\.))*)'|"((?:[^"\\]|(?:\\.))*)")\s*/,ternary_regexp=/^\s*([^\?]+)\?([^\?:]+):(.*)\s*$/,equals_regexp=/^\s*(.+?)((?:!|=)={1,2})(.*)\s*$/,and_or_regexp=/^\s*(.+?)\s*(&&|\|\|)\s*(.+)\s*$/,filter_regexp=/^\s*([^(]+)\((.*)\)\s*$/,number_regexp=/^\s*(\d*(?:\.\d+)?)\s*$/,not_regexp=/^\s*!(.+?)\s*$/;module.exports=accessor,add_type(ternary_regexp,create_ternary),add_type(equals_regexp,create_equals),add_type(and_or_regexp,create_and_or),add_type(not_regexp,create_not),add_type(filter_regexp,create_filter),add_type(string_regexp,create_string_accessor),add_type(number_regexp,create_number_accessor),add_type(/.*/,create_lookup);
},{"./lookup":7}],2:[function(require,module,exports){
!function(t){function e(o,i,r,n){if(!(this instanceof e))return new e(o,i,r,n);if(this.root=o,this.sync=n,this.document=r||t.document,this.includes=Object.create(this.includes),t.Buffer&&o instanceof t.Buffer&&(o=o.toString()),"string"==typeof o){var s=this.document.createElement("div");for(s.innerHTML=o,this.root=this.document.createDocumentFragment();s.firstChild;)this.root.appendChild(s.firstChild)}this.root_nodes=11===this.root.nodeType?[].slice.call(this.root.childNodes):[this.root],this.tree=this.create_node({childNodes:this.root_nodes}),i&&this.update(i)}function o(t,e){e=e||this.tree,e.hooks&&e.hooks.forEach(function(e){e(t)}),e.update_children&&e.update_children(t)}function i(t){for(var e=0,i=this.children.length;i>e;++e)o(t,this.children[e])}function r(t){return y[t.nodeType]?y[t.nodeType].call(this,t):c.call(this,t)}function n(t,o){e.prototype.filters[t]=o}function s(t,o){e.prototype.tags[t]=o,e.prototype.tag_list.push({attr:t,constructor:o})}function d(){return this.root.outerHTML}function c(t){function e(){return[].map.call(t.childNodes||[],this.create_node.bind(this)).filter(Boolean)}return{el:t,update_children:this.update_children,hooks:[],children:e.call(this)}}function h(t){for(var e=0,o=this.root_nodes.length;o>e;++e)t.appendChild(this.root_nodes[e])}function p(t,e){return this.includes[t]=e}var l=require("./template_string"),u=require("./element_node"),a=require("./accessor"),f=require("./text_node");module.exports=e,e.add_tag=s,e.add_filter=n,e.prototype.template_string=l,e.prototype.create_accessor=a,e.prototype.update_children=i,e.prototype.create_node=r,e.prototype.toString=d,e.prototype.include=p,e.prototype.into=h,e.prototype.update=o,e.prototype.includes={},e.prototype.tag_list=[],e.prototype.filters={},e.prototype.tags={},e.include=p.bind(e.prototype);var y={};y[1]=u,y[3]=f}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{"./accessor":1,"./element_node":4,"./template_string":14,"./text_node":15}],3:[function(require,module,exports){
!function(e){module.exports=e.altr=require("./index")}.call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
},{"./index":6}],4:[function(require,module,exports){
function create_element_node(e){var t,n={},r=this,a={el:e,update_children:this.update_children,hooks:[]},l=Array.prototype.filter.call(e.attributes,function(e){return r.tags[e.name]?(n[e.name]=e.value)&&!1:!0});l.forEach(function(t){var n=r.template_string(t.value,function(n){e.setAttribute(t.name,n)});n&&a.hooks.push(n)});for(var o=0,i=r.tag_list.length;i>o;++o)t=n[r.tag_list[o].attr],t&&r.tag_list[o].constructor.call(r,a,t);return a.children=[].map.call(e.childNodes,r.create_node.bind(r)).filter(Boolean),a.children.length||a.hooks.length?a:void 0}module.exports=create_element_node;
},{}],5:[function(require,module,exports){
module.exports=function(n,t){var c,e,o=this.create_accessor(n,function(n){t((e=+n)+(c||0))});return function(n,t){c=+n,o(t)}};
},{}],6:[function(require,module,exports){
var include_tag=require("./tags/include"),add_filter=require("./filters/add"),text_tag=require("./tags/text"),html_tag=require("./tags/html"),with_tag=require("./tags/with"),for_tag=require("./tags/for"),if_tag=require("./tags/if"),altr=require("./altr");module.exports=altr,altr.add_tag("altr-include",include_tag),altr.add_tag("altr-text",text_tag),altr.add_tag("altr-html",html_tag),altr.add_tag("altr-with",with_tag),altr.add_tag("altr-for",for_tag),altr.add_tag("altr-if",if_tag),altr.add_filter("add",add_filter);
},{"./altr":2,"./filters/add":5,"./tags/for":8,"./tags/html":9,"./tags/if":10,"./tags/include":11,"./tags/text":12,"./tags/with":13}],7:[function(require,module,exports){
function lookup(o,r){var n=o?o.split("."):[];return function(o){for(var t=0,u=n.length;o&&u>t;++t)o=o[n[t]];return t===u?r(o):(r(),void 0)}}module.exports=lookup;
},{}],8:[function(require,module,exports){
function for_handler(e,r){function n(r){function n(r){for(var n=0,o=r.length;o>n;++n)e.el.insertBefore(r[n],c)}Array.isArray(r)||(r=[]);var i,t,l=new Array(r.length),c=e.el.firstChild,s=0;e.children=[];for(var h=0,f=r.length;f>h;++h)i=a.indexOf(r[h]),-1!==i?(l[h]=d.splice(i,1)[0],a.splice(i,1),i+s!==h&&n(l[h].dom_nodes),++s):(l[h]=o(),n(l[h].dom_nodes),++s),t=l[h].dom_nodes,c=t[t.length-1].nextSibling,t=t.concat(l[h].dom_nodes),e.children=e.children.concat(l[h].altr_nodes);for(var h=0,f=d.length;f>h;++h)d[h].dom_nodes.forEach(function(e){e.parentNode.removeChild(e)});d=l.slice(),a=r.slice()}function o(){var r,n,o=l.document.createElementNS(e.el.namespaceURI,"div");return o.innerHTML=t,n=Array.prototype.slice.call(o.childNodes),r=n.map(l.create_node.bind(l)).filter(Boolean),{dom_nodes:n,altr_nodes:r}}var i=r.match(for_regexp),t=e.el.innerHTML,d=[],l=this,a=[];if(!i)throw new Error("invalid for tag: "+r);e.el.innerHTML="";var c=i[1],s=i[2];e.hooks.push(l.create_accessor(s,n)),e.update_children=function(r){for(var n,o=0,i=e.children.length;i>o;++o)n=Object.create(r),n[c]=r[s][o],n.$index=o,l.update(n,e.children[o])}}var for_regexp=/^(.*?)\s+in\s+(.*$)/;module.exports=for_handler;
},{}],9:[function(require,module,exports){
function html(e,n){function o(n){e.el.innerHTML="undefined"==typeof n?"":n}e.hooks.push(this.create_accessor(n,o))}module.exports=html;
},{}],10:[function(require,module,exports){
function if_tag(e,n){function t(){c||(c=e.children||[],e.children=[],i.removeChild(e.el))}function l(){c&&(i.insertBefore(e.el,r),e.children=c,c=null)}function o(e){e?l():t()}var r=this.document.createComment("altr-if-placeholder"),i=e.el.parentNode,c=null;i.insertBefore(r,e.el),e.hooks.push(this.create_accessor(n,o))}module.exports=if_tag;
},{}],11:[function(require,module,exports){
function include(e,n){e.el.innerHTML=this.includes[n]}module.exports=include;
},{}],12:[function(require,module,exports){
function text(t,e){function o(e){t.el.textContent="undefined"==typeof e?"":e}t.hooks.push(this.create_accessor(e,o))}module.exports=text;
},{}],13:[function(require,module,exports){
function with_tag(t,e){t.update_children=this.create_accessor(e,t.update_children.bind(t))}module.exports=with_tag;
},{}],14:[function(require,module,exports){
function template_string(t,n){function e(t,e){return u[t]=e,this.sync?n(u.join("")):(clearTimeout(s),s=setTimeout(function(){n(u.join(""))},0),void 0)}function i(t){h.forEach(function(n){n(t)})}if(t.match(TAG)){for(var s,c,o,r=t,u=[],h=[];r&&(o=r.match(TAG));)(c=r.indexOf(o[0]))&&u.push(r.slice(0,c)),u.push(""),r=r.slice(c+o[0].length),h.push(this.create_accessor(o[1],e.bind(this,u.length-1)));return i}}var TAG=/{{\s*(.*?)\s*}}/;module.exports=template_string;
},{}],15:[function(require,module,exports){
function create_text_node(t){function e(e){t.textContent=e}var n=this.template_string(t.textContent,e);if(n)return{el:t,text:t.textContent,hooks:[n]}}module.exports=create_text_node;
},{}]},{},[3])


//# sourceMappingURL=altr.min.map